# 星辰秘语（AstroWhispers）PRD 大纲

## 1. 产品愿景
打造一个视觉精美、内容深度个性化的玄学探索平台，通过星座与生肖命理的专属解读、精选玄学内容与学习资料，为用户提供科学与神秘感兼具的精神指引。

## 2. 目标用户
- 对星座、生肖及玄学内容有兴趣，渴望获得个性化分析的年轻人群（18-35 岁）。
- 寻求高质量精神安慰与自我探索路径的职场人士。
- 内容创作者及玄学兴趣圈用户。

## 3. 核心功能
### 3.1 用户与账户
- 注册/登录：邮箱 + 密码；注册时需采集出生日期、具体时间、出生地点。
- JWT 鉴权；密码哈希；找回密码（预留）。
- 个人档案：查看/编辑个人信息、修改偏好、查看历史报告与收藏文章。

### 3.2 深度星座分析
- 基于出生年月日、时刻与地点计算星盘基础信息（初期使用简化公式 + 模板生成）。
- 生成多维度报告：总体概述、性格核心、感情、事业、财富、健康、年度/月度/每日运势。
- 报告结构化：每个章节包含标题、摘要、详细解读、建议关键词。
- 存储历史报告，支持重复生成与版本比较（后续迭代）。

### 3.3 生肖与命理分析
- 基于出生年份计算生肖与纳音五行。
- 输出年度运势、五行均衡点评、性格亮点与挑战、人际匹配建议。
- 与星座报告类似的结构化输出。

### 3.4 内容管理系统（CMS）
- 后台（后续可独立界面）：管理员登录、发布/编辑/删除文章。
- 文章支持 Markdown 或富文本，含标题、摘要、封面、标签。
- 前端展示文章列表（筛选、分页）与详情页（阅读体验优化、推荐相关文章）。

### 3.5 学习与收藏
- 收藏报告/文章；加入个人资料快捷入口。
- 计划迭代：根据报告生成可执行“心灵成长计划”。

## 4. 用户流程（示例）
1. 新用户注册 → 填写出生信息 → 验证邮箱（预留）。
2. 登录后进入 Dashboard → 看到个性化欢迎语、最新星座/生肖报告入口、精选文章。
3. 点击“生成最新星座报告” → 后端生成结构化内容 → 前端以“多卡片折叠”展示。
4. 浏览报告时可收藏重点、查看历史报告。
5. 进入“玄学文章” → 浏览卡片列表 → 点击阅读详情 → 收藏分享。

## 5. 数据存储
- User：id, email, password_hash, name, birth_date, birth_time, birth_place, created_at。
- AstrologyReport：id, user_id, report_type(每日/年度/综合), generated_at, payload(JSON)。
- ZodiacReport：id, user_id, year, payload(JSON)。
- Article：id, title, slug, summary, content, cover_url, tags(JSON/Array), author_id, published_at, status。
- RefreshToken / Session（可选）。

## 6. 技术栈
- 前端：React + TypeScript + Vite，UI：Tailwind CSS + Headless UI，数据获取：React Query（可选）、React Router。
- 后端：FastAPI + SQLAlchemy + Alembic；PostgreSQL；pydantic models；JWT (PyJWT/passlib)。
- 生成逻辑：基于模板 + 随机片段组合，后续可接入大模型。
- 部署：Docker（前端、后端、Postgres）、docker-compose；Nginx 托静态前端。

## 7. 非功能需求
- 体验：深色系 + 神秘感，动画轻量；良好的移动端显示。
- 性能：报告生成接口响应 < 2s（模板生成）；文章列表分页。
- 安全：存储敏感信息加密；JWT 过期与刷新机制；接口权限控制。
- 运营：日志记录、基础分析（UV/PV、报告生成次数）。

## 8. 里程碑
- M1：核心账户、星座&生肖报告 API、前端基础页面与 Tailwind 风格、文章列表。
- M2：CMS 管理端、历史报告、收藏与推荐系统。
- M3：AI 辅助内容生成、成长计划、移动端优化、A/B 测试。

